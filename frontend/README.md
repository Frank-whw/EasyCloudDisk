# EasyCloudDisk - å‰ç«¯æ–‡æ¡£


## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

ç›®å‰å‰ç«¯å·²é›†æˆå¹¶å®Œå–„ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š

### 1. ğŸ” ç”¨æˆ·è®¤è¯
*   **æ³¨å†Œ**: æ”¯æŒé‚®ç®±æ³¨å†Œï¼Œå‰ç«¯æ ¡éªŒå¯†ç å¼ºåº¦ï¼ˆè‡³å°‘8ä½ï¼Œå«å­—æ¯æ•°å­—ï¼‰ã€‚
*   **ç™»å½•**: ä½¿ç”¨ JWT Token è®¤è¯ï¼Œæ”¯æŒè‡ªåŠ¨ä¿å­˜ç™»å½•çŠ¶æ€ã€‚
*   **å®‰å…¨**: è‡ªåŠ¨å¤„ç† Token è¿‡æœŸï¼ˆ401ï¼‰è·³è½¬ï¼Œå¤šç”¨æˆ·æ•°æ®å®Œå…¨éš”ç¦»ã€‚

### 2. ğŸ“ åŸºç¡€æ–‡ä»¶ç®¡ç†
*   **æ–‡ä»¶åˆ—è¡¨**: 
    *   æ”¯æŒ **ç½‘æ ¼è§†å›¾** å’Œ **åˆ—è¡¨è§†å›¾** åˆ‡æ¢ã€‚
    *   æ”¯æŒ **é¢åŒ…å±‘å¯¼èˆª**ï¼Œå¯é€çº§è¿›å…¥/è¿”å›ç›®å½•ã€‚
    *   æ”¯æŒ **æ–‡ä»¶åæœç´¢**ï¼ˆå®æ—¶è¿‡æ»¤ï¼‰ã€‚
*   **æ–‡ä»¶æ“ä½œ**:
    *   **ä¸Šä¼ **: æ”¯æŒç‚¹å‡»æŒ‰é’®é€‰æ‹©æˆ–**æ‹–æ‹½ä¸Šä¼ **ã€‚ä¼šè‡ªåŠ¨ä¸Šä¼ åˆ°å½“å‰æ‰€åœ¨ç›®å½•ã€‚
    *   **ä¸‹è½½**: æ”¯æŒäºŒè¿›åˆ¶æµå¼ä¸‹è½½ï¼ˆæ™ºèƒ½è¯†åˆ«æ–‡ä»¶/æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹ä»…æ”¯æŒåˆ é™¤ï¼‰ã€‚
    *   **åˆ é™¤**: äºŒæ¬¡ç¡®è®¤åˆ é™¤ï¼Œå®æ—¶åˆ·æ–°åˆ—è¡¨ã€‚
*   **ç›®å½•ç®¡ç†**:
    *   æ”¯æŒæ–°å»ºæ–‡ä»¶å¤¹ã€‚
    *   ç‚¹å‡»æ–‡ä»¶å¤¹å›¾æ ‡å¯è¿›å…¥å­ç›®å½•ã€‚

### 3. ğŸš€ é«˜çº§ä¼ è¾“åŠŸèƒ½
*   **ç§’ä¼  (æé€Ÿä¸Šä¼ )**: 
    *   ä¸Šä¼ å‰è‡ªåŠ¨è®¡ç®— SHA-256 å“ˆå¸Œã€‚
    *   è‹¥æœåŠ¡å™¨å·²å­˜åœ¨ç›¸åŒæ–‡ä»¶ï¼Œç›´æ¥ç¬é—´å®Œæˆä¸Šä¼ ï¼Œæ— éœ€æ¶ˆè€—æµé‡ã€‚
*   **æ–­ç‚¹ç»­ä¼ **:
    *   å¤§æ–‡ä»¶ï¼ˆ>5MBï¼‰è‡ªåŠ¨å¯ç”¨åˆ†å—ä¸Šä¼ ã€‚
    *   æ”¯æŒä¸Šä¼ è¿›åº¦æ¡å®æ—¶æ˜¾ç¤ºã€‚
*   **å®æ—¶åŒæ­¥**:
    *   åŸºäº SSE (Server-Sent Events) æŠ€æœ¯ã€‚
    *   å½“æ–‡ä»¶åœ¨å…¶ä»–å®¢æˆ·ç«¯ï¼ˆå¦‚ Python åŒæ­¥è„šæœ¬ï¼‰å‘ç”Ÿå˜åŠ¨æ—¶ï¼Œç½‘é¡µç«¯åˆ—è¡¨ä¼š**è‡ªåŠ¨åˆ·æ–°**å¹¶å¼¹å‡ºé€šçŸ¥ã€‚

---

## ğŸ§ª æµ‹è¯•æ–¹æ³•æŒ‡å—

### å‡†å¤‡å·¥ä½œ
**1ã€ç¡®ä¿åç«¯æœåŠ¡å·²å¯åŠ¨ (`localhost:8080`)ã€‚**

è¡¥å……å¯åŠ¨åç«¯æœåŠ¡çš„æ–¹æ³•ï¼š

**å¯åŠ¨åç«¯**ï¼ˆç»ˆç«¯1ï¼‰

```bash
# åœ¨WSLä¸­
cd server
export AWS_ACCESS_KEY_ID="AKIARCSPQ2MSDC2UES4A"
export AWS_SECRET_ACCESS_KEY="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"
export AWS_REGION="ap-northeast-1"
export AWS_S3_BUCKET="clouddisk-test-1762861672"

# å¯åŠ¨æœåŠ¡
mvn spring-boot:run

# æˆ–è€…ä½¿ç”¨å¯åŠ¨è„šæœ¬
chmod +x start.sh
./dev-start.sh
```

**2ã€ä½¿ç”¨ Python å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆé¿å… CORS é—®é¢˜ï¼‰ï¼š**

```bash
cd frontend
python -m http.server 3000
```

**3ã€æµè§ˆå™¨è®¿é—®: `http://localhost:3000`**



### åœºæ™¯ä¸€ï¼šåŸºç¡€åŠŸèƒ½æµç¨‹

1. **æ³¨å†Œ/ç™»å½•**:
   * æ³¨å†Œä¸€ä¸ªæ–°è´¦å·ï¼ˆå¦‚ `test@demo.com`ï¼‰ã€‚
   * ç™»å½•åè¿›å…¥ä¸»ç•Œé¢ã€‚
2. **æ–‡ä»¶å¤¹æ“ä½œ**:
   * ç‚¹å‡»å·¥å…·æ â€œæ–°å»ºæ–‡ä»¶å¤¹â€ï¼Œè¾“å…¥ `æˆ‘çš„æ–‡æ¡£`ã€‚
   * ç‚¹å‡»ç”Ÿæˆçš„æ–‡ä»¶å¤¹å›¾æ ‡ï¼Œè¿›å…¥è¯¥ç›®å½•ã€‚
   * ç¡®è®¤é¢åŒ…å±‘å¯¼èˆªæ˜¾ç¤ºï¼š`æ ¹ç›®å½• > æˆ‘çš„æ–‡æ¡£`ã€‚
3. **æ–‡ä»¶ä¸Šä¼ **:
   * æ‹–æ‹½ä¸€ä¸ª `test.txt` åˆ°ç½‘é¡µä¸­é—´åŒºåŸŸã€‚
   * ç¡®è®¤æ–‡ä»¶å‡ºç°åœ¨å½“å‰ç›®å½•ä¸‹ï¼ˆéæ ¹ç›®å½•ï¼‰ã€‚
4. **æ–‡ä»¶ä¸‹è½½/åˆ é™¤**:
   * åŒå‡»æ–‡ä»¶æˆ–ç‚¹å‡»â€œä¸‹è½½â€æŒ‰é’®ï¼ŒéªŒè¯æ–‡ä»¶å†…å®¹ã€‚
   * ç‚¹å‡»â€œåˆ é™¤â€æŒ‰é’®ï¼ŒéªŒè¯æ–‡ä»¶æ¶ˆå¤±ã€‚

### åœºæ™¯äºŒï¼šç§’ä¼ æµ‹è¯•
1. **é¦–æ¬¡ä¸Šä¼ **:
   * ä¸Šä¼ ä¸€ä¸ªç¨å¤§æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ `photo.jpg`ï¼‰ã€‚
   * è§‚å¯Ÿè¿›åº¦æ¡èµ°å®Œä¸Šä¼ è¿‡ç¨‹ã€‚
2. **åˆ é™¤æ–‡ä»¶**:
   * åœ¨åˆ—è¡¨ä¸­åˆ é™¤åˆšæ‰ä¸Šä¼ çš„ `photo.jpg`ï¼ˆæ­¤æ—¶æ–‡ä»¶å—ä»åœ¨æœåŠ¡å™¨ï¼Œä»…å¼•ç”¨åˆ é™¤ï¼‰ã€‚
3. **å†æ¬¡ä¸Šä¼ **:
   * å†æ¬¡ä¸Šä¼ åŒä¸€ä¸ª `photo.jpg`ã€‚
   * **é¢„æœŸ**: è¿›åº¦æ¡ç›´æ¥è·³è‡³ 100%ï¼Œæç¤ºâ€œç§’ä¼ æˆåŠŸâ€ï¼Œæ— éœ€ç­‰å¾…ã€‚

### åœºæ™¯ä¸‰ï¼šè·¨å®¢æˆ·ç«¯åŒæ­¥æµ‹è¯•
*éœ€é…åˆ Python å®¢æˆ·ç«¯è„šæœ¬ (`sync_client/sync_client.py`)*

1. **å¯åŠ¨ Python å®¢æˆ·ç«¯**:
   * ä¿®æ”¹è„šæœ¬ä¸­çš„è´¦å·ä¸ºå½“å‰ç™»å½•è´¦å·ã€‚
   * è¿è¡Œè„šæœ¬ï¼š`python sync_client.py`
2. **æœ¬åœ° -> äº‘ç«¯**:
   * åœ¨æœ¬åœ° `sync_folder` ä¸­æ–°å»ºæ–‡ä»¶ `sync_test.txt`ã€‚
   * è§‚å¯Ÿç½‘é¡µç«¯ï¼šåº”è‡ªåŠ¨å¼¹å‡ºâ€œæ–‡ä»¶å·²åŒæ­¥â€æç¤ºï¼Œå¹¶è‡ªåŠ¨åˆ·æ–°å‡ºæ–°æ–‡ä»¶ã€‚
3. **äº‘ç«¯ -> æœ¬åœ° (é€šçŸ¥)**:
   * åœ¨ç½‘é¡µç«¯ä¸Šä¼  `web_upload.txt`ã€‚
   * è§‚å¯Ÿ Python æ§åˆ¶å°ï¼šåº”æ‰“å°â€œæ”¶åˆ°æœåŠ¡å™¨é€šçŸ¥â€ã€‚

---

## ğŸ› ï¸ é¡¹ç›®ç»“æ„

```text
frontend/
â”œâ”€â”€ css/
â”‚   â””â”€â”€ main.css          # å…¨å±€æ ·å¼ï¼ˆå“åº”å¼å¸ƒå±€ï¼‰
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ app.js            # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ api.js            # åç«¯ API å°è£…
â”‚   â”œâ”€â”€ auth.js           # è®¤è¯é€»è¾‘
â”‚   â”œâ”€â”€ config.js         # å…¨å±€é…ç½®
â”‚   â”œâ”€â”€ fileManager.js    # æ–‡ä»¶åˆ—è¡¨/æ“ä½œé€»è¾‘
â”‚   â”œâ”€â”€ uploadManager.js  # ä¸Šä¼ /ç§’ä¼ /æ–­ç‚¹ç»­ä¼ é€»è¾‘
â”‚   â”œâ”€â”€ syncManager.js    # SSE å®æ—¶åŒæ­¥é€»è¾‘
â”‚   â””â”€â”€ hashCalculator.js # æ–‡ä»¶å“ˆå¸Œè®¡ç®—å·¥å…·
â”œâ”€â”€ index.html            # å•é¡µåº”ç”¨å…¥å£
â””â”€â”€ README.md             # æœ¬æ–‡æ¡£
```
